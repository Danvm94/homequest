{% load static %}
{% load login_tag %}

<!doctype html>
<html lang="en">
<head>

    {% block meta %}
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <meta charset="utf-8">
        <meta name="viewport"
              content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="description"
              content="Welcome to Homequest Real Estate - Your gateway to extraordinary properties in Novaville. Discover your dream home with our dedicated team of agents. Buy, rent, and explore a world of possibilities with Homequest.">
        <meta name="keywords"
              content="Real Estate Novaville, Novaville Properties, Buy Homes Novaville, Rent Apartments Novaville, Real Estate Agents Novaville, Property Listings Novaville, Homequest Real Estate, Real Estate Services, Residential Properties, Commercial Properties, Luxury Homes, Affordable Housing, Real Estate Investment, Property Search Novaville, Home Buying Tips, Rental Listings, Real Estate Market Novaville, Expert Real Estate Agents, Homequest Properties, Real Estate Consultation">

    {% endblock %}

    {% block extra_meta %}
    {% endblock %}

    {% block corecss %}
        <!-- Bootstrap CSS v5.3.2 CDN -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
              rel="stylesheet"
              integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
              crossorigin="anonymous">
        <!-- Google Font Roboto -->
        <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap"
              rel="stylesheet">
        <!-- Base CSS -->
        <link href="{% static 'css/base.css' %}" rel="stylesheet">
    {% endblock %}

    {% block extra_css %}
    {% endblock %}

    {% block corejs %}
        <!-- Bootstrap JS v5.3.2 CDN -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
                integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
                crossorigin="anonymous"></script>
        <!-- Font Awesome JS -->
        <script src="https://kit.fontawesome.com/0202f769a6.js"
                crossorigin="anonymous"></script>
        <!-- JQuery 3.7.1 -->
        <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    {% endblock %}

    {% block extra_js %}
    {% endblock %}

    <link rel="icon" type="image/x-icon"
          href="{% static 'images/favicon.ico' %}">
    <title>Homequest {% block extra_title %}{% endblock %}</title>
</head>
<body>
{% include 'includes/nav.html' %}

{% if messages %}
    <div aria-live="polite" aria-atomic="true" class="position-relative">
        <div class="toast-container top-0 start-0 p-3">
            {% for message in messages %}
                {% with message.level as level %}
                    {% if level == 40 %}
                        {% include 'includes/toasts/toast_error.html' %}
                    {% elif level == 30 %}
                        {% include 'includes/toasts/toast_warning.html' %}
                    {% elif level == 25 %}
                        {% include 'includes/toasts/toast_success.html' %}
                    {% else %}
                        {% include 'includes/toasts/toast_info.html' %}
                    {% endif %}
                {% endwith %}
            {% endfor %}
        </div>
    </div>

{% endif %}


{% block page_header %}
{% endblock %}

<main class="flex-fill">
    {% block content %}
        <!-- Content Goes here -->
    {% endblock content %}
</main>

{% include 'includes/footer.html' %}
{% block postloadjs %}
    <script src="{% static 'js/toasts.js' %}" async></script>
{% endblock %}

{% if user.is_authenticated %}
{% else %}
    {% login_form_tag request.get_full_path %}
    {% signup_form_tag request.get_full_path %}
{% endif %}
</body>
</html>